<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">  
  <title>Salma Kidney Center</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
</head>

<nav class="navbar navbar-expand-lg navbar navbar-dark bg-primary">

  <a class="navbar-brand" href="#">Salma Kidney Center</a>
  <a><a *ngIf="isLoggedIn">Hello {{ username }}...</a></a>
  <a href class="nav-link" *ngIf="isLoggedIn" style="color: brown;" (click)="logout()">LogOut</a>  


  <button class="navbar-toggler" type="button" data-toggle="collapse" (click)="isCollapsed = !isCollapsed" data-target="#navbarCollapse" aria-controls="navbarCollapse"
    aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarCollapse" [attr.aria-expanded]="!isCollapsed" [ngClass]="{collapse: isCollapsed}">
    <ul class="navbar-nav">      
  </ul>
  <ul class="navbar-nav">
    <li class="nav-item" >
        <a class="nav-link" data-class="fixed-left" >
          <button class="btn btn-outline-success my-2 my-sm-0" *ngIf="isLoggedIn"  (click)="onsubmitShowPatientRegisterForm()">New Patient</button>
          <button class="btn btn-outline-success my-2 my-sm-0" *ngIf="isLoggedIn" (click)="onSubmitShowPatientList()">Patients List</button>
          <button class="btn btn-outline-success my-2 my-sm-0"  *ngIf="username =='admin'"(click)="onsubmitShowUserList()">Users List</button>
         
        </a>
    </li>
</ul>
</div>
</nav>

<div class="container">

  <div class="jumbotron" >
    <nav class="navbar navbar-light bg-light justify-content-between">     
      <form class="form-inline"*ngIf="isLoggedIn"name="formSearchPatientByPersonalId"(ngSubmit)="f.form.valid && onSubmitSearchPatientByPersonalId(formSearchPatientByPersonalId.personalId)"  #f="ngForm" novalidate>
        <input class="form-control mr-sm-2" type="tel" name="personalId" placeholder="Enter Patient's Personal Id" aria-label="Search"  [(ngModel)]="formSearchPatientByPersonalId.personalId" [pattern]="personalIdPattern" required  minlength="12" maxlength="12" #personalId="ngModel">
        <div class="alert-danger" *ngIf="f.submitted && personalId.invalid">
          <div *ngIf="personalId.errors.required">personalId is required</div>
          <div *ngIf="personalId.errors.minlength">personalId must be at least 12 characters</div>
          <div *ngIf="personalId.errors.maxlength">personalId must be at most 12 characters</div>
          <div *ngIf="personalId.errors">Personal Id not valid</div>
        </div>
        <button class="btn btn-outline-success my-2 my-sm-0">Search</button>        
        <div class="alert alert-warning"><br />{{ errorMessage }}</div>  
      </form>
     </nav>
    <div class="container" *ngIf="showPatientPage">
      <div class="card">
        <tr class="card-body" >
          <div class="card-header">
              Patient Details By
              <strong>{{currentDate | date:'yyyy-MM-dd'}}</strong>
              <span class="float-right"> <strong>Status:</strong>{{patientObject.status}}</span>
          </div> 
              <div class="row mb-4">
                  <div class="col-sm-6">   
                      <h6 class="mb-3"><strong>{{patientObject.name}}  {{patientObject.dateOfBirth}}  {{patientObject.gender}}</strong></h6>
                      <div>
                          <strong>Registered By  {{patientObject.createdBy}}</strong>
                      </div>
                      <div>
                        <strong>On   {{patientObject.createdOn}}</strong>
                      </div>
                      <div>Record No.{{patientObject.id}}</div>
                      <div>Perosn No.{{patientObject.personalId}}</div>
                      <div>Email: {{patientObject.email}}</div>
                      <div>Phone: {{patientObject.mobileNumber}}</div>
                      <div>Joined The Center In  {{patientObject.dateOfJoinCenter}}</div>
                  </div>
                  <div class="col-sm-6">    
                    <h6 class="mb-3"><strong>{{patientObject.residence}}</strong></h6>                  
                      <div>
                          <strong>{{patientObject.address}}</strong>
                      </div>
                      <div>Insurance:{{ patientObject.insurance ? "Yes":"No" }}</div>
                      <div>{{ patientObject.insuranceDetails }}</div>
                      <div>Agree To use His/her Information On Static:{{ patientObject.useInStatic ? "Yes":"No" }}</div>
                      <div>{{ patientObject.comment }}</div>
                  </div>
              </div>
              <div class="table-responsive-sm" id="donorSection">
                <!--Hd Baseline Form-->
                <button class="btn-block" (click)="onsubmitedShowPatientHdBaseLineRegistrationForm(patient)"> Register/Update Hd BaseLine Information</button>
                <div class="container" *ngIf="showPatientHdBaseLineRegistrationForm">
                  <h2>Registration</h2>
                  <form *ngIf="!isSuccessful"name="formPatientHdBaseLineRegistration" (ngSubmit)="f.form.valid && onsubmitHdBaseLineRegister()" #f="ngForm" novalidate>
                   


                    <div class="form-group">
                      <mat-form-field>
                        <mat-label>Date Of First Hd Ever</mat-label>
                        <input matInput [matDatepicker]="picker" [(ngModel)]="formPatientHdBaseLineRegistration.dateOffirstHdEver"  id="dateOffirstHdEver" name="dateOffirstHdEver" required #dateOffirstHdEver="ngModel">
                        <div class="alert-danger" *ngIf="f.submitted && dateOffirstHdEver.invalid">
                          <div *ngIf="dateOffirstHdEver.errors.required">Date Of Frist Hd Ever is required</div>
                        </div>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </div>
              
                    <div class="form-group">
                      <label id="hbv">* Hbv: </label>
                      <mat-radio-group name="hbv"  [(ngModel)]="formPatientHdBaseLineRegistration.hbv" id ="hbv" required #hbv="ngModel">
                        <mat-radio-button value="Negative">Negative</mat-radio-button>
                        <mat-radio-button value="Positive">Positive</mat-radio-button>
                     </mat-radio-group> 
                     <div class="alert-danger" *ngIf="f.submitted && hbv.invalid">
                      <div *ngIf="hbv.errors.required">Select Hbv is required</div>
                    </div>
                    </div>  
              
                    <div class="form-group">
                      <label id="hcv">* Hcv: </label>
                      <mat-radio-group name="hcv"  [(ngModel)]="formPatientHdBaseLineRegistration.hcv" id ="hcv" required #hcv="ngModel">
                        <mat-radio-button value="Negative">Negative</mat-radio-button>
                        <mat-radio-button value="Positive">Positive</mat-radio-button>
                     </mat-radio-group> 
                     <div class="alert-danger" *ngIf="f.submitted && hcv.invalid">
                      <div *ngIf="hcv.errors.required">Select Hcv is required</div>
                    </div>
                    </div>  
              
                    <div class="form-group">
                      <label id="hiv">* Hiv: </label>
                      <mat-radio-group name="hiv"  [(ngModel)]="formPatientHdBaseLineRegistration.hiv" id ="hiv" required #hiv="ngModel">
                        <mat-radio-button value="Negative">Negative</mat-radio-button>
                        <mat-radio-button value="Positive">Positive</mat-radio-button>
                     </mat-radio-group> 
                     <div class="alert-danger" *ngIf="f.submitted && hiv.invalid">
                      <div *ngIf="hiv.errors.required">Select Hiv is required</div>
                    </div>
                    </div>  
              
                    <div class="form-group">
                      <label id="vascularAccess">* VascularAccess: </label>
                      <mat-radio-group name="vascularAccess"  [(ngModel)]="formPatientHdBaseLineRegistration.vascularAccess" id ="vascularAccess" required #vascularAccess="ngModel">
                        <mat-radio-button value="AVF">AVF</mat-radio-button>
                        <mat-radio-button value="AVG">AVG</mat-radio-button>
                        <mat-radio-button value="Permcath">Permcath</mat-radio-button>
                        <mat-radio-button value="Temporal">Temporal</mat-radio-button>
                     </mat-radio-group> 
                     <div class="alert-danger" *ngIf="f.submitted && vascularAccess.invalid">
                      <div *ngIf="vascularAccess.errors.required">Select VascularAccess is required</div>
                    </div>
                    </div>  
              
                    <div class="form-group">
                      <label id="numberOfHdSessions">* Number Of Hd Sessions: </label>
                      <mat-radio-group name="numberOfHdSessions"  [(ngModel)]="formPatientHdBaseLineRegistration.numberOfHdSessions" id ="numberOfHdSessions" required #numberOfHdSessions="ngModel">
                        <mat-radio-button value="1">1</mat-radio-button>
                        <mat-radio-button value="2">2</mat-radio-button>
                        <mat-radio-button value="3">3</mat-radio-button>
                        <mat-radio-button value="4">4</mat-radio-button>
                        <mat-radio-button value="5">5</mat-radio-button>
                     </mat-radio-group> 
                     <div class="alert-danger" *ngIf="f.submitted && numberOfHdSessions.invalid">
                      <div *ngIf="numberOfHdSessions.errors.required">Select Number Of Hd Sessions is required</div>
                    </div>
                    </div>  
              
           
                    <div class="form-group"> 
                      <label for="hdDays">Hd Days</label>
                      <ejs-multiselect id='hdDays' name='hdDays' [(ngModel)]="formPatientHdBaseLineRegistration.hdDays" [dataSource]='weekdays' [fields]='localFields' [placeholder]='selectedDays' #dateOffirstHdEver="ngModel" ></ejs-multiselect>
                    </div>
              
              
                  <div class="md-form">
                    <label for="comment">Comment</label>
                    <textarea type="text" id="comment" name="comment" [(ngModel)]="formPatientHdBaseLineRegistration.comment" required minlength="0" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                    <div class="alert-danger" *ngIf="f.submitted && address.invalid">
                      <div *ngIf="address.errors.required">Comment is required</div>
                      <div *ngIf="address.errors.minlength">Comment must be at least 0 characters</div>
                      <div *ngIf="address.errors.maxlength">Comment must be at most 1000 characters</div>
                    </div>
                  </div>             
              
             
                   <div class="form-group">
                     <button class="submit">Register Patient's HdBaseLine</button>
                     <button class="submit" (click)="onsubmitedHidePatientHdBaseLineRegistrationForm()"> Cancel</button>
                   </div>
              
                   <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                    *  fields are required!<br />{{ errorMessage }}
                   </div>     
              
                
                  </form>
                </div>
                <button class="btn-block" (click)="onsubmitedShowHdBaseLineDetails(patient)"> Show Hd BaseLine Information</button>
                <table class="table table-striped" *ngIf="showHdBaseLineDetails"> 
                    <tbody >
                        <tr >
                            <td class="center" >Date Of First Hd Ever: {{hdBaseLineObject.dateOffirstHdEver}}</td>
                            <td class="right">VascularAccess: {{hdBaseLineObject.vascularAccess}}</td>
                            <td class="left">HdSessions: {{hdBaseLineObject.numberOfHdSessions}}</td>
                          </tr>
                        <tr>
                            <td class="left">Hbv: {{hdBaseLineObject.hbv}}</td>
                            <td class="left">Hcv: {{hdBaseLineObject.hcv}}</td>
                            <td class="left">Hiv: {{hdBaseLineObject.hiv}}</td>                            
                        </tr>
                        <tr>
                          <td class="left">Hd Days: {{hdBaseLineObject.hdDays}}</td>
                      </tr>
                      <tr>
                        <td class="left">Comment by <strong>{{username}}</strong>: {{hdBaseLineObject.comment}}</td>
                    </tr>
                    </tbody>
                </table>

                <!--HdMonthlyfollowUpForm-->
                <button class="btn-block" (click)="onsubmitedShowHdMonthlyfollowUpForm(patient)"> Register/Update HdMonthlyfollowUp Information</button>
                <div class="container" *ngIf="showHdMonthlyfollowUpForm">
                  <h2>Hd Monthly FollowUp Form</h2>
                  <form *ngIf="!isSuccessful"name="formHdMonthlyfollowUp" (ngSubmit)="f.form.valid && onsubmitHdMonthlyfollowUpRegister()" #f="ngForm" novalidate>
                    <div class="form-row">
                      <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="sBP">* SBP  (mmHg) </label>
                         <input type="number" class="form-control"name="sBP" [(ngModel)]="formHdMonthlyfollowUp.sBP" [pattern]="decimalPatten" required  #sBP="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && sBP.invalid">
                           <div *ngIf="sBP.errors.required">SBP is required</div>
                           <div *ngIf="sBP.errors.minlength">SBP must be minimum 0.00</div>
                           <div *ngIf="sBP.errors.maxlength">SBP must be maximum 9.99</div>
                           <div *ngIf="sBP.errors">SBP not valid</div>
                         </div>
                       </div>
                     </div>

                     <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="dBP">* DBP  (mmHg) </label>
                         <input type="number" class="form-control"name="dBP" [(ngModel)]="formHdMonthlyfollowUp.dBP"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #dBP="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && dBP.invalid">
                           <div *ngIf="dBP.errors.required">DBP is required</div>
                           <div *ngIf="dBP.errors.minlength">DBP must be minimum 0.00</div>
                           <div *ngIf="dBP.errors.maxlength">DBP must be maximum 9.99</div>
                           <div *ngIf="dBP.errors">DBP not valid</div>
                         </div>
                       </div>
                     </div>
                   </div>

                    <div class="form-row">
                      <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="uRR">* URR (%) </label>
                         <input type="number" class="form-control"name="uRR" [(ngModel)]="formHdMonthlyfollowUp.uRR" step="1" required  min="0" max="100" #uRR="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && uRR.invalid">
                           <div *ngIf="uRR.errors.required">URR is required</div>
                           <div *ngIf="uRR.errors.minlength">URR must be minimum 0</div>
                           <div *ngIf="uRR.errors.maxlength">URR must be maximum 100</div>
                           <div *ngIf="uRR.errors">URR not valid</div>
                         </div>
                       </div>
                     </div>

                     <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="hemoglobin">* Hemoglobin (g/dL) </label>
                         <input type="number" class="form-control"name="hemoglobin" [(ngModel)]="formHdMonthlyfollowUp.hemoglobin"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #hemoglobin="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && hemoglobin.invalid">
                           <div *ngIf="hemoglobin.errors.required">Hemoglobin is required</div>
                           <div *ngIf="hemoglobin.errors.minlength">Hemoglobin must be minimum 0.00</div>
                           <div *ngIf="hemoglobin.errors.maxlength">Hemoglobin must be maximum 9.99</div>
                           <div *ngIf="hemoglobin.errors">Hemoglobin not valid</div>
                         </div>
                       </div>
                     </div>
                   </div>

                   
                    
                   <div class="form-row">
                    <div class="col-md-6">
                     <div class="md-form form-group">
                      <label for="ferritin">* Ferritin (ng/mL) </label>
                      <input type="number" class="form-control"name="ferritin" [(ngModel)]="formHdMonthlyfollowUp.ferritin"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #ferritin="ngModel" />
                      <div class="alert-danger" *ngIf="f.submitted && ferritin.invalid">
                        <div *ngIf="ferritin.errors.required">Ferritin is required</div>
                        <div *ngIf="ferritin.errors.minlength">Ferritin must be minimum 0.00</div>
                        <div *ngIf="ferritin.errors.maxlength">Ferritin must be maximum 9.99</div>
                        <div *ngIf="ferritin.errors">Ferritin not valid</div>
                       </div>
                     </div>
                   </div>

                   <div class="col-md-6">
                     <div class="md-form form-group">
                       <label for="tSAT">* TSAT (%) </label>
                       <input type="number" class="form-control"name="tSAT" [(ngModel)]="formHdMonthlyfollowUp.tSAT" step="1" required  min="0" max="100" #tSAT="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && tSAT.invalid">
                         <div *ngIf="tSAT.errors.required">TSAT is required</div>
                         <div *ngIf="tSAT.errors.minlength">TSAT must be minimum 0</div>
                         <div *ngIf="tSAT.errors.maxlength">TSAT must be maximum 100</div>
                         <div *ngIf="tSAT.errors">TSAT not valid</div>
                       </div>
                     </div>
                    </div>
                    </div>

                      
                 <div class="form-row">
                  <div class="col-md-6">
                   <div class="md-form form-group">
                     <label for="calcium">* Calcium (mg/dL) </label>
                     <input type="number" class="form-control"name="calcium" [(ngModel)]="formHdMonthlyfollowUp.calcium" [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #calcium="ngModel" />
                     <div class="alert-danger" *ngIf="f.submitted && calcium.invalid">
                       <div *ngIf="calcium.errors.required">Calcium is required</div>
                       <div *ngIf="calcium.errors.minlength">Calcium must be minimum 0.00</div>
                       <div *ngIf="calcium.errors.maxlength">Calcium must be maximum 9.99</div>
                       <div *ngIf="calcium.errors">Calcium not valid</div>
                     </div>
                   </div>
                 </div>

                 <div class="col-md-6">
                   <div class="md-form form-group">
                     <label for="pO4">* PO4  (mg/dL) </label>
                     <input type="number" class="form-control"name="pO4" [(ngModel)]="formHdMonthlyfollowUp.pO4"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #pO4="ngModel" />
                     <div class="alert-danger" *ngIf="f.submitted && pO4.invalid">
                       <div *ngIf="pO4.errors.required">PO4 is required</div>
                       <div *ngIf="pO4.errors.minlength">PO4 must be minimum 0.00</div>
                       <div *ngIf="pO4.errors.maxlength">PO4 must be maximum 9.99</div>
                       <div *ngIf="pO4.errors">PO4 not valid</div>
                     </div>
                   </div>
                   </div>
                   </div>

                   <div class="form-row">
                    <div class="col-md-6">
                     <div class="md-form form-group">
                       <label for="pTH">* PTH (pg/mL) </label>
                       <input type="number" class="form-control"name="pTH" [(ngModel)]="formHdMonthlyfollowUp.pTH" [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #pTH="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && sBP.invalid">
                         <div *ngIf="pTH.errors.required">PTH is required</div>
                         <div *ngIf="pTH.errors.minlength">PTH must be minimum 0.00</div>
                         <div *ngIf="pTH.errors.maxlength">PTH must be maximum 9.99</div>
                         <div *ngIf="pTH.errors">PTH not valid</div>
                       </div>
                     </div>
                   </div>
    
                   <div class="col-md-6">
                     <div class="md-form form-group">
                       <label for="alb">* Alb (g/dL) </label>
                       <input type="number" class="form-control"name="alb" [(ngModel)]="formHdMonthlyfollowUp.alb"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #alb="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && alb.invalid">
                         <div *ngIf="alb.errors.required">Alb is required</div>
                         <div *ngIf="alb.errors.minlength">Alb must be minimum 0.00</div>
                         <div *ngIf="alb.errors.maxlength">Alb must be maximum 9.99</div>
                         <div *ngIf="alb.errors">Alb not valid</div>
                       </div>
                     </div>
                    </div>
                   </div>

                   <div class="form-row">
                    <div class="col-md-6">
                     <div class="md-form form-group">
                       <label for="aLT">* ALT (u/L) </label>
                       <input type="number" class="form-control"name="aLT" [(ngModel)]="formHdMonthlyfollowUp.aLT" [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #aLT="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && aLT.invalid">
                         <div *ngIf="aLT.errors.required">ALT is required</div>
                         <div *ngIf="aLT.errors.minlength">ALT must be minimum 0.00</div>
                         <div *ngIf="aLT.errors.maxlength">ALT must be maximum 9.99</div>
                         <div *ngIf="aLT.errors">ALT not valid</div>
                       </div>
                     </div>
                   </div>
      
                   <div class="col-md-6">
                     <div class="md-form form-group">
                       <label for="accessInfection">* Access infection (Yes/No) </label>
                       <select name="accessInfection" id="accessInfection" [(ngModel)]="formHdMonthlyfollowUp.accessInfection"   class="custom-select" required #accessInfection="ngModel"> 
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                      </select>
                     <div class="alert-danger" *ngIf="f.submitted && accessInfection.invalid">
                      <div *ngIf="accessInfection.errors.required">Select AccessInfection is required</div>
                    </div>
                    </div>  
                    </div>
                    </div>


                    <div class="form-group"> 
                     <label for="hospitalization">Hospitalization</label>
                     <ejs-multiselect id='hospitalization' name='hospitalization' [(ngModel)]="formHdMonthlyfollowUp.hospitalization" [dataSource]='weekdays' [fields]='localFields' [placeholder]='selectedDays' #hospitalization="ngModel" ></ejs-multiselect>
                    </div>
      
                    <div class="form-row">
                      <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="erythropoietinDose">* Erythropoietin dose (unit/wk) </label>
                         <input type="number" class="form-control"name="erythropoietinDose" [(ngModel)]="formHdMonthlyfollowUp.erythropoietinDose" [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #erythropoietinDose="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && erythropoietinDose.invalid">
                           <div *ngIf="erythropoietinDose.errors.required">Erythropoietin dose is required</div>
                           <div *ngIf="erythropoietinDose.errors.minlength">Erythropoietin dose must be minimum 0.00</div>
                           <div *ngIf="erythropoietinDose.errors.maxlength">Erythropoietin dose must be maximum 9.99</div>
                           <div *ngIf="erythropoietinDose.errors">Erythropoietin dose not valid</div>
                         </div>
                       </div>
                     </div>
          
                     <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="parenteralIronDose">* Parenteral iron dose (mg/wk) </label>
                         <input type="number" class="form-control"name="parenteralIronDose" [(ngModel)]="formHdMonthlyfollowUp.parenteralIronDose"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #parenteralIronDose="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && parenteralIronDose.invalid">
                           <div *ngIf="parenteralIronDose.errors.required">Parenteral iron is required</div>
                           <div *ngIf="parenteralIronDose.errors.minlength">Parenteral iron must be minimum 0.00</div>
                           <div *ngIf="parenteralIronDose.errors.maxlength">Parenteral iron must be maximum 9.99</div>
                           <div *ngIf="parenteralIronDose.errors">Parenteral iron not valid</div>
                         </div>
                       </div>
                     </div>
                    </div>

              
                    <div class="md-form">
                      <label for="comment">Comment</label>
                      <textarea type="text" id="comment" name="comment" [(ngModel)]="formHdMonthlyfollowUp.comment" required minlength="0" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                      <div class="alert-danger" *ngIf="f.submitted && address.invalid">
                        <div *ngIf="address.errors.required">Comment is required</div>
                        <div *ngIf="address.errors.minlength">Comment must be at least 0 characters</div>
                        <div *ngIf="address.errors.maxlength">Comment must be at most 1000 characters</div>
                      </div>
                    </div>             
                
               
                     <div class="form-group">
                       <button class="submit">Register Patient's Monthly FollowUp</button>
                       <button class="submit" (click)="onsubmitedHideHdMonthlyfollowUpForm()"> Cancel</button>
                     </div>
                
                     <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                      *  fields are required!<br />{{ errorMessage }}
                     </div>  

                
                  </form>
                </div>
                <button class="btn-block" (click)="onsubmitedShowHdMonthlyFollowUpDetails(patient)"> Show Hd Monthly FollowUp Information</button>
                <table class="table table-striped" *ngIf="shwHdFollowUpDetails"> 
                    <tbody *ngFor="let hdFollowup of _hdFollowups">
                        <tr >
                            <td class="center" >Month Of FollowUp: {{hdFollowup.monthOfFollowUp}}</td>
                            <td class="right">SBP: {{hdFollowup.sBP}} mmHg</td>
                            <td class="left">dBP: {{hdFollowup.dBP}} mmHg</td>
                          </tr>
                        <tr>
                            <td class="left">URR: {{hdFollowup.uRR}} %</td>
                            <td class="left">Hemoglobin: {{hdFollowup.hemoglobin}} g/dL</td>                            
                        </tr>
                        <tr>
                          <td class="left">Ferritin: {{hdFollowup.ferritin}} ng/mL</td>
                          <td class="left">TSAT: {{hdFollowup.tSAT}} %</td>
                          <td class="left">Calcium: {{hdFollowup.calcium}} mg/dL</td>                            
                      </tr>
                      <tr>
                        <td class="left">PO4: {{hdFollowup.pO4}} mg/dL</td>
                        <td class="left">PTH: {{hdFollowup.pTH}} pg/mL</td>
                        <td class="left">Alb: {{hdFollowup.alb}} g/dL</td>                            
                      </tr>
                      <tr>
                        <td class="left">ALT: {{hdFollowup.aLT}} u/L</td>
                        <td class="left">AccessInfection: {{hdFollowup.accessInfection}}</td>                               
                      </tr>
                        <tr>
                          <td class="left">Hospitalization: {{hdFollowup.hospitalization}}</td>
                      </tr>
                      <tr>
                        <td class="left">ErythropoietinDose: {{hdFollowup.erythropoietinDose}} unit/wk</td>
                        <td class="left">ParenteralIronDose: {{hdFollowup.parenteralIronDose}} mg/wk</td>
                        <td class="left">Alb: {{hdFollowup.alb}} g/dL</td>                            
                      </tr>
                      <tr>
                        <td class="left">Comment by <strong>{{username}}</strong>: {{hdFollowup.comment}}</td>
                    </tr>
                    </tbody>
                </table>
                 <!--DonorForm-->
                 <button class="btn-block" (click)="onsubmitShowDonorRegisterForm(patient)"> Register/Update Donro Information</button>
                 <div class="container" *ngIf="showDonortRegistrationForm">
                   <h2>Hd Monthly FollowUp Form</h2>
                   <form *ngIf="!isSuccessful"name="formRegisterDonor" (ngSubmit)="f.form.valid && onSubmitRegisterDonor()" #f="ngForm" novalidate>
                     <div class="form-group">
                       <label for="name">* Full Name</label>
                       <input type="text" class="form-control"name="name" [(ngModel)]="formRegisterDonor.name" [pattern]="namePattern" required minlength="10" maxlength="20" #name="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && name.invalid">
                         <div *ngIf="name.errors.required">Username is required</div>
                         <div *ngIf="name.errors.minlength">Full Name must be at least 10 characters</div>
                         <div *ngIf="name.errors.maxlength">Full Name must be at most 20 characters</div>
                         <div *ngIf="mobileNumber.errors">Patient's name not valid</div>
                       </div>
                     </div>
               
                     <div class="form-group">
                       <label for="name">* PersonalId  (must be 12 numbers) </label>
                       <input type="tel" class="form-control"name="personalId" [(ngModel)]="formRegisterDonor.personalId" [pattern]="personalIdPattern" required  minlength="12" maxlength="12" #personalId="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && personalId.invalid">
                         <div *ngIf="personalId.errors.required">personalId is required</div>
                         <div *ngIf="personalId.errors.minlength">personalId must be at least 12 characters</div>
                         <div *ngIf="personalId.errors.maxlength">personalId must be at most 12 characters</div>
                         <div *ngIf="mobileNumber.errors">Personal Id not valid</div>
                       </div>
                     </div>
               
                     <div class="form-group">
                       <label for="name">* MobileNumber (must be 10 numbers)</label>
                       <input type="tel" class="form-control"name="mobileNumber" [(ngModel)]="formRegisterDonor.mobileNumber" [pattern]="mobNumberPattern"  required  minlength="10" maxlength="10" #mobileNumber="ngModel" />
                       <div class="alert-danger" *ngIf="f.submitted && mobileNumber.invalid">
                         <div *ngIf="mobileNumber.errors.required">mobileNumber is required</div>
                         <div *ngIf="mobileNumber.errors.minlength">mobileNumber must be 10 numbers</div>
                         <div *ngIf="mobileNumber.errors.maxlength">mobileNumber must be 10 numbers</div>
                         <div *ngIf="mobileNumber.errors">Mobile number not valid</div>
                       </div>
                     </div>
               
                    <div class="form-group">
                      <label for="email">* Email</label>
                      <input type="email"class="form-control" name="email" [(ngModel)]="formRegisterDonor.email" required email #email="ngModel"/>
                      <div class="alert-danger" *ngIf="f.submitted && email.invalid">
                        <div *ngIf="email.errors.required">Email is required</div>
                        <div *ngIf="email.errors.email">Email must be a valid email address</div>
                      </div>
                    </div>          

               
                   <div class="form-group">
                     <mat-form-field>
                       <label for="dateOfBirth">* Date Of Birth</label>
                       <input matInput [matDatepicker]="picker" [(ngModel)]="formRegisterDonor.dateOfBirth"  id="dateOfBirth" name="dateOfBirth" required #dateOfBirth="ngModel">
                       <div class="alert-danger" *ngIf="f.submitted && dateOfBirth.invalid">
                         <div *ngIf="dateOfBirth.errors.required">Date Of Birth is required</div>
                       </div>
                       <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                       <mat-datepicker #picker></mat-datepicker>
                     </mat-form-field>
                   </div>
               
               
                   <div class="form-group">
                     <label id="gender">* Gender: </label>
                     <mat-radio-group name="gender"  [(ngModel)]="formRegisterDonor.gender" id ="gender" required #gender="ngModel">
                       <mat-radio-button value="Male">Male</mat-radio-button>
                       <mat-radio-button value="Female">Female</mat-radio-button>
                    </mat-radio-group> 
                    <div class="alert-danger" *ngIf="f.submitted && gender.invalid">
                     <div *ngIf="gender.errors.required">Select patint's gender is required</div>
                   </div>
                   </div>  
               
                   <div class="form-group">
                     <label id="residence">* Residence: </label>
                     <mat-radio-group name="residence"  [(ngModel)]="formRegisterDonor.residence" id ="residence" required #residence="ngModel">
                       <mat-radio-button value="Khartoum">Khartoum</mat-radio-button>
                       <mat-radio-button value="Omdurman">Omdurman</mat-radio-button>
                       <mat-radio-button value="Bahri">Bahri</mat-radio-button>
                    </mat-radio-group> 
                    <div class="alert-danger" *ngIf="f.submitted && residence.invalid">
                     <div *ngIf="residence.errors.required">Select patint's residence is required</div>
                   </div>
                   </div>  
               
                   <div class="md-form">
                     <label for="address">* Full Address</label>
                     <textarea type="text" id="Address" name="address" [(ngModel)]="formRegisterDonor.address" required minlength="10" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                     <div class="alert-danger" *ngIf="f.submitted && address.invalid">
                       <div *ngIf="address.errors.required">Address is required</div>
                       <div *ngIf="address.errors.minlength">Full address must be at least 10 characters</div>
                       <div *ngIf="address.errors.maxlength">Full Name address be at most 1000 characters</div>
                     </div>
                   </div>

                   <div class="form-group">
                    <label for="donorRelation">Donor Relation</label>
                    
                    <select name="donorRelation" id="donorRelation" [(ngModel)]="formRegisterDonor.donorRelation"   class="custom-select" required #dateOfBirth="ngModel">
                      <option value="sibling">sibling</option>
                      <option value="off spring">off spring</option>
                      <option value="other related">other related</option>                      
                    </select>     
                  </div>  
                  
               
                   <div class="md-form">
                     <label for="insurance">Has Insurance?</label>
                     <input type="checkbox" id="insurance" name="insurance" [(ngModel)]="formRegisterDonor.insurance">
                   </div>
               
                   <div class="md-form"  *ngIf="formRegisterDonor.insurance">
                     <label for="insuranceDetails">insuranceDetails</label>
                     <textarea type="text" id="insuranceDetails" name="insuranceDetails" [(ngModel)]="formRegisterDonor.insuranceDetails" required minlength="0" maxlength="1000" #insuranceDetails="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                   </div>
               
                   <div class="md-form">
                     <label for="useInStatic">Use In Static?</label>
                     <input type="checkbox" id="useInStatic" name="useInStatic" [(ngModel)]="formRegisterDonor.useInStatic">
                   </div>
               
                   <div class="md-form">
                     <label for="comment">Comment</label>
                     <textarea type="text" id="comment" name="comment" [(ngModel)]="formRegisterDonor.comment" required minlength="0" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                     <div class="alert-danger" *ngIf="f.submitted && address.invalid">
                       <div *ngIf="address.errors.required">Comment is required</div>
                       <div *ngIf="address.errors.minlength">Comment must be at least 0 characters</div>
                       <div *ngIf="address.errors.maxlength">Comment must be at most 1000 characters</div>
                     </div>
                   </div>
               
                    <div class="form-group">
                      <button class="btn btn-primary btn-block">Register Patient</button>
                    </div>
               
                    <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                     *  fields are required!<br />{{ errorMessage }}
                    </div>     
               
                 
                   </form>
                 </div>
                 <button class="btn-block" (click)="onsubmitedShowDonorDetails(patient)"> Show Donor Information</button>
                 <table class="table table-striped" *ngIf="shwDonorDetails"> 
                     <tbody>
                         <tr >
                             <td class="center" >{{donorObject.name}}</td>
                             <td class="right">{{donorObject.gender}}</td>
                             <td class="left">{{donorObject.dateOfBirth}} </td>
                           </tr>
                         <tr>
                             <td class="left">Donor Relation: {{donorObject.donorRelation}}</td>
                             <td class="left">Mob. {{donorObject.mobileNumber}}</td>                            
                         </tr>
                         <tr>
                           <td class="left">Email: {{donorObject.email}}</td>
                           <td class="left">Residence: {{donorObject.residence}}</td>                        
                       </tr>
                       <tr>
                         <td class="left">Address: {{donorObject.address}}</td>                           
                       </tr>
                       <tr>
                         <td class="left">Insurance:{{ patientObject.insurance ? "Yes":"No" }}</td>
                         <td class="left">{{ patientObject.insuranceDetails }}</td>                               
                       </tr>
                         <tr>
                           <td class="left">Agree To use On Static:{{ patientObject.useInStatic ? "Yes":"No" }}</td>
                       </tr>
                       <tr>
                         <td class="left">Comment by <strong>{{username}}</strong>: {{patientObject.comment}}</td>
                     </tr>
                     </tbody>
                 </table>
                 <!--TransplantForm-->
                 <button class="btn-block" (click)="onsubmitShowTransplantRegisterForm(patient)"> Register/Update Transplant Information</button>
                 <div class="container" *ngIf="showTransplantRegistrationForm">
                   <h2>Transplant Form</h2>
                   <form *ngIf="!isSuccessful"name="formRegisterTransplant" (ngSubmit)="f.form.valid && onsubmitTransplantRegister()" #f="ngForm" novalidate>
                     <div class="form-row">
                       <div class="col-md-6">
                        <div class="md-form form-group">
                          <label for="kidney">* kidney  (Right or Left) </label>                          
                          <select name="kidney" id="kidney" [(ngModel)]="formRegisterTransplant.kidney"   class="custom-select" required #kidney="ngModel"> 
                            <option value="right kidney">right kidney</option>
                            <option value="left kidney">left kidney</option>
                          </select>
                         <div class="alert-danger" *ngIf="f.submitted && kidney.invalid">
                          <div *ngIf="kidney.errors.required">Select Kidney is required</div>
                        </div>
                        </div>
                      </div>
 
                      <div class="col-md-6">
                        <div class="md-form form-group">
                          <label for="site">* Iliac fossa  (left orright iliac fossa) </label>                   
                          <select name="site" id="site" [(ngModel)]="formRegisterTransplant.site"   class="custom-select" required #site="ngModel"> 
                            <option value="left iliac fossa">left iliac fossa</option>
                            <option value="right iliac fossa">right iliac fossa</option>
                          </select>
                         <div class="alert-danger" *ngIf="f.submitted && site.invalid">
                          <div *ngIf="site.errors.required">Select site is required</div>
                        </div>
                        </div>
                      </div>
                    </div>
 
                     <div class="form-row">
                       <div class="col-md-6">
                        <div class="md-form form-group">
                          <label for="hlaA">* HlaA (g/dL) </label>
                          <input type="number" class="form-control"name="hlaA" [(ngModel)]="formRegisterTransplant.hlaA" [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #hlaA="ngModel" />
                          <div class="alert-danger" *ngIf="f.submitted && hlaA.invalid">
                            <div *ngIf="hlaA.errors.required">HlaA is required</div>
                            <div *ngIf="hlaA.errors.minlength">HlaA must be minimum 0</div>
                            <div *ngIf="hlaA.errors.maxlength">HlaA must be maximum 100</div>
                            <div *ngIf="hlaA.errors">HlaA not valid</div>
                          </div>
                        </div>
                      </div>
 
                      <div class="col-md-6">
                        <div class="md-form form-group">
                          <label for="hlaB">* HlaB (g/dL) </label>
                          <input type="number" class="form-control"name="hlaB" [(ngModel)]="formRegisterTransplant.hlaB"  [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #hlaB="ngModel" />
                          <div class="alert-danger" *ngIf="f.submitted && hlaB.invalid">
                            <div *ngIf="hlaB.errors.required">HlaB is required</div>
                            <div *ngIf="hlaB.errors.minlength">HlaB must be minimum 0.00</div>
                            <div *ngIf="hlaB.errors.maxlength">HlaB must be maximum 9.99</div>
                            <div *ngIf="hlaB.errors">HlaB not valid</div>
                          </div>
                        </div>
                      </div>
                    </div>

                    
                    <div class="form-row">
                      <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="hlaC">* HlaC (g/dL) </label>
                         <input type="number" class="form-control"name="hlaC" [(ngModel)]="formRegisterTransplant.hlaC" [pattern]="decimalPatten" step="0" required  min="0.00" max="9.99" #hlaC="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && hlaC.invalid">
                           <div *ngIf="hlaC.errors.required">HlaC is required</div>
                           <div *ngIf="hlaC.errors.minlength">HlaC must be minimum 0</div>
                           <div *ngIf="hlaC.errors.maxlength">HlaC must be maximum 100</div>
                           <div *ngIf="hlaC.errors">HlaC not valid</div>
                         </div>
                       </div>
                     </div>

                     <div class="col-md-6">

                     </div>
                   </div>
 
                    
                     
                    <div class="form-row">
                     <div class="col-md-6">
                      <div class="md-form form-group">
                        <label for="induction">* Induction</label>                   
                        <select name="induction" id="induction" [(ngModel)]="formRegisterTransplant.induction"   class="custom-select" required #induction="ngModel"> 
                          <option value="noen">noen</option>
                          <option value="no">no</option>
                        </select>
                       <div class="alert-danger" *ngIf="f.submitted && induction.invalid">
                        <div *ngIf="induction.errors.required">Select Induction is required</div>
                      </div>
                      </div>
                    </div>
 
                    <div class="col-md-6">
                      <div class="md-form form-group">
                        <label for="cni">* Cni </label>                   
                          <select name="cni" id="cni" [(ngModel)]="formRegisterTransplant.cni"   class="custom-select" required #cni="ngModel"> 
                            <option value="CSA">CSA</option>
                            <option value="TAC">TCA</option>
                          </select>
                         <div class="alert-danger" *ngIf="f.submitted && cni.invalid">
                          <div *ngIf="cni.errors.required">Select cni is required</div>
                        </div>
                      </div>
                     </div>
                     </div>


                     <div class="form-row">
                      <div class="col-md-6">
                       <div class="md-form form-group">
                       <label for="antMetabolite">* AntMetabolite</label>                   
                       <select name="antMetabolite" id="antMetabolite" [(ngModel)]="formRegisterTransplant.antMetabolite"   class="custom-select" required #antMetabolite="ngModel"> 
                        <option value="options">options</option>
                        <option value="Azathioprine">Azathioprine</option>
                        <option value="MMF">MMF</option>
                      </select>
                     <div class="alert-danger" *ngIf="f.submitted && antMetabolite.invalid">
                      <div *ngIf="antMetabolite.errors.required">Select AntMetabolite is required</div>
                    </div>
                       </div>
                     </div>
  
                     <div class="col-md-6">
                       <div class="md-form form-group">
                        <label for="graftFunction">* GraftFunction</label>                   
                        <select name="graftFunction" id="graftFunction" [(ngModel)]="formRegisterTransplant.graftFunction"   class="custom-select" required #graftFunction="ngModel"> 
                         <option value="immediate">immediate</option>
                         <option value="primary">primary</option>
                         <option value="non-function">non-function</option>
                         <option value="delayed">delayed</option>
                       </select>
                      <div class="alert-danger" *ngIf="f.submitted && graftFunction.invalid">
                       <div *ngIf="graftFunction.errors.required">Select GraftFunction is required</div>
                     </div>
                       </div>
                      </div>
                      </div>

                      <div class="form-row">
                        <div class="col-md-6">
                         <div class="md-form form-group">
                         <label for="rejection">* Rejection</label>                   
                         <select name="rejection" id="rejection" [(ngModel)]="formRegisterTransplant.rejection"   class="custom-select" required #rejection="ngModel"> 
                          <option value="None">None</option>
                          <option value="Steroid">Steroid</option>
                          <option value="Sensitive">Sensitive</option>
                        </select>
                       <div class="alert-danger" *ngIf="f.submitted && rejection.invalid">
                        <div *ngIf="rejection.errors.required">Select Rejection is required</div>
                      </div>
                         </div>
                       </div>
    
                       <div class="col-md-6">
                         <div class="md-form form-group">

                         </div>
                       </div>
                     </div>   
               
                     <div class="md-form">
                       <label for="comment">Comment</label>
                       <textarea type="text" id="comment" name="comment" [(ngModel)]="formRegisterTransplant.comment" required minlength="0" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                       <div class="alert-danger" *ngIf="f.submitted && address.invalid">
                         <div *ngIf="address.errors.required">Comment is required</div>
                         <div *ngIf="address.errors.minlength">Comment must be at least 0 characters</div>
                         <div *ngIf="address.errors.maxlength">Comment must be at most 1000 characters</div>
                       </div>
                     </div>             
                 
                
                      <div class="form-group">
                        <button class="submit">Register Patient's Transplant FollowUp</button>
                        <button class="submit" (click)="onsubmitedHideTransplantForm()"> Cancel</button>
                      </div>
                 
                      <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                       *  fields are required!<br />{{ errorMessage }}
                      </div>  
                   </form>
                 </div>
                 <button class="btn-block" (click)="onsubmitedShowTransplantDetails()"> Show Transplant Information</button>
                 <table class="table table-striped" *ngIf="shwTransplantDetails"> 
                     <tbody>
                         <tr >
                             <td class="center">Transplant Date: {{transplantObject.dateOfTransplant}}</td>
                             <td class="right">Kidney: {{transplantObject.kidney}}</td>
                             <td class="left">Site: {{transplantObject.site}}</td>
                           </tr>
                         <tr>
                             <td class="left">HlaA: {{transplantObject.hlaA}}</td>
                             <td class="left">HlaB: {{transplantObject.hlaB}}</td>
                             <td class="left">HlaC: {{transplantObject.hlaC}}</td>                           
                         </tr>
                         <tr>
                            <td class="left">induction: {{transplantObject.induction}}</td>
                            <td class="left">Cni: {{transplantObject.cni}}</td>
                            <td class="left">AntMetabolite: {{transplantObject.antMetabolite}}</td>                         
                         </tr>
                       <tr>
                        <td class="left">GraftFunction: {{transplantObject.graftFunction}}</td>
                        <td class="left">Rejection: {{transplantObject.rejection}}</td>                                  
                       </tr>                   
                       <tr>
                         <td class="left">Comment by <strong>{{username}}</strong>: {{transplantObject.comment}}</td>
                     </tr>
                     </tbody>
                 </table> 
                

                                            
                <!--TrfollowUpForm-->
                <button class="btn-block" (click)="onsubmitedShowTrFollowUpForm(patient)"> Register/Update Transplant followUp Information</button>
                <div class="container" *ngIf="showTrFollowUpForm">
                  <h2>Transplant FollowUp Form</h2>
                  <form *ngIf="!isSuccessful"name="formTrFollowUp" (ngSubmit)="f.form.valid && onsubmitTrFollowUpRegister()" #f="ngForm" novalidate>

                    <div class="form-row">
                      <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="currentStates">* Current States </label>                          
                         <select name="currentStates" id="currentStates" [(ngModel)]="formTrFollowUp.currentStates"   class="custom-select" required #currentStates="ngModel"> 
                           <option value="Alive and well">Alive and well</option>
                           <option value="Death">Death</option>
                           <option value="Graft failure">Graft failure</option>
                         </select>
                        <div class="alert-danger" *ngIf="f.submitted && currentStates.invalid">
                         <div *ngIf="currentStates.errors.required">Select CurrentStates is required</div>
                       </div>
                       </div>
                     </div>

                     <div class="col-md-6">
                       <div class="md-form form-group">
                         <label for="priorTrasplant">* Prior Trasplant </label>                   
                         <select name="priorTrasplant" id="priorTrasplant" [(ngModel)]="formTrFollowUp.priorTrasplant"   class="custom-select" required #priorTrasplant="ngModel"> 
                           <option value="No">No</option>
                           <option value="Yes">Yes</option>
                         </select>
                        <div class="alert-danger" *ngIf="f.submitted && priorTrasplant.invalid">
                         <div *ngIf="priorTrasplant.errors.required">Select Prior Trasplant is required</div>
                       </div>
                       </div>
                     </div>
                   </div>

                   <div class="form-row">
                    <div class="col-md-6">
                     <div class="md-form form-group">
                       <label for="CurrentStates">* Current States </label>                          
                       <select name="currentStates" id="currentStates" [(ngModel)]="formTrFollowUp.currentStates"   class="custom-select" required #currentStates="ngModel"> 
                         <option value="Alive and well">Alive and well</option>
                         <option value="Death">Death</option>
                         <option value="Graft failure">Graft failure</option>
                       </select>
                      <div class="alert-danger" *ngIf="f.submitted && currentStates.invalid">
                       <div *ngIf="currentStates.errors.required">Select CurrentStates is required</div>
                     </div>
                     </div>
                   </div>

                   <div class="col-md-6" *ngIf="formTrFollowUp.currentStates === 'Death'">
                    <mat-form-field>
                      <label for="deathDate">* Death Date</label>
                      <input matInput [matDatepicker]="picker1" [(ngModel)]="formTrFollowUp.deathDate"  id="deathDate" name="deathDate" required #deathDate="ngModel">
                      <div class="alert-danger" *ngIf="f.submitted && deathDate.invalid">
                        <div *ngIf="deathDate.errors.required">Death Date is required</div>
                      </div>
                      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                      <mat-datepicker #picker1></mat-datepicker>
                    </mat-form-field>
                   </div>

                   <div class="col-md-6" *ngIf="formTrFollowUp.currentStates === 'Graft failure'">
                    <mat-form-field>
                      <label for="graftLossDate">* Graft Loss Date</label>
                      <input matInput [matDatepicker]="picker2" [(ngModel)]="formTrFollowUp.graftLossDate"  id="graftLossDate" name="graftLossDate" required #graftLossDate="ngModel">
                      <div class="alert-danger" *ngIf="f.submitted && graftLossDate.invalid">
                        <div *ngIf="graftLossDate.errors.required">Graft Loss Date is required</div>
                      </div>
                      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                      <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>
                   </div>
                 </div>

                 
                 <div class="form-row">
                  <div class="col-md-6">
                   <div class="md-form form-group">
                     <label for="graftLossCause">* Graft Loss Cause </label>                          
                     <select name="graftLossCause" id="graftLossCause" [(ngModel)]="formTrFollowUp.graftLossCause"   class="custom-select" required #graftLossCause="ngModel"> 
                       <option value="Chronic Allograft Dysfunction">Chronic Allograft Dysfunction</option>
                       <option value="Primary Non-Function">Primary Non-Function</option>
                       <option value="Death With Functioning Graft">Death With Functioning Graft</option>
                       <option value="FSGS">FSGS</option>
                     </select>
                    <div class="alert-danger" *ngIf="f.submitted && graftLossCause.invalid">
                     <div *ngIf="graftLossCause.errors.required">GraftLossCause is required</div>
                   </div>
                   </div>
                 </div>

                 <div class="col-md-6">
                  <mat-form-field>
                    <label for="graftLossDate">* GraftLoss Date</label>
                    <input matInput [matDatepicker]="picker3" [(ngModel)]="formTrFollowUp.graftLossDate"  id="graftLossDate" name="graftLossDate" required #graftLossDate="ngModel">
                    <div class="alert-danger" *ngIf="f.submitted && graftLossDate.invalid">
                      <div *ngIf="graftLossDate.errors.required">Graft Loss Date is required</div>
                    </div>
                    <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                  </mat-form-field>
                 </div>
               </div>

               <div class="form-row">
                <div class="col-md-6">
                 <div class="md-form form-group">
                   <label for="survival">* Survival </label>                          
                   <input type="number" class="form-control"name="survival" [(ngModel)]="formTrFollowUp.survival" min="0" max="200" required  #survival="ngModel" />
                         <div class="alert-danger" *ngIf="f.submitted && survival.invalid">
                           <div *ngIf="survival.errors.required">survival is required</div>
                           <div *ngIf="survival.errors.minlength">survival must be minimum 0</div>
                           <div *ngIf="survival.errors.maxlength">survival must be maximum 200</div>
                           <div *ngIf="survival.errors">survival not valid</div>
                         </div>
                 </div>
               </div>

               <div class="col-md-6">
                <mat-form-field>
                  <label for="lossDate">* Loss Date</label>
                  <input matInput [matDatepicker]="picker4" [(ngModel)]="formTrFollowUp.lossDate"  id="lossDate" name="lossDate" required #lossDate="ngModel">
                  <div class="alert-danger" *ngIf="f.submitted && lossDate.invalid">
                    <div *ngIf="lossDate.errors.required">Loss Date is required</div>
                  </div>
                  <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                  <mat-datepicker #picker4></mat-datepicker>
                </mat-form-field>
               </div>
             </div>

             <div class="form-row" *ngIf="formTrFollowUp.currentStates === 'Death'">
              <div class="col-md-6">
               <div class="md-form form-group" >
                 <label for="deathCouse">* Death Couse </label>                          
                 <select name="deathCouse" id="deathCouse" [(ngModel)]="formTrFollowUp.deathCouse"   class="custom-select" required #deathCouse="ngModel"> 
                   <option value="Cardiovascular">Cardiovascular</option>
                   <option value="Infection">Infection</option>
                   <option value="Cardiovascular">Cardiovascular</option>
                   <option value="Gastrointestinal">Gastrointestinal</option>
                   <option value="Malignancy">Malignancy</option>
                   <option value="Liver disease">Liver Disease</option>
                   <option value="Infection related to antirejection treatment">Infection related to antirejection treatment</option>
                   <option value="Others">Others</option>
                   <option value="No Data">No Data</option>
                 </select>
                <div class="alert-danger" *ngIf="f.submitted && deathCouse.invalid">
                 <div *ngIf="deathCouse.errors.required">Death Couse is required</div>
               </div>
               </div>
             </div>

             <div class="col-md-6">
               <div class="md-form form-group">
                 <label for="ckdCaouse">* Ckd Caouse </label>                   
                 <select name="ckdCaouse" id="ckdCaouse" [(ngModel)]="formTrFollowUp.ckdCaouse"   class="custom-select" required #ckdCaouse="ngModel"> 
                   <option value="ADPKD">ADPKD</option>
                   <option value="KAKUT">KAKUT</option>
                   <option value="Famialial">Famialial</option>
                   <option value="Disorder">Disorder</option>
                   <option value="Uncertain">Uncertain</option>
                   <option value="Obstructive">Obstructive</option>
                   <option value="Uropathy">Uropathy</option>
                   <option value="Glomerulonephritis">Glomerulonephritis</option>
                   <option value="HTN">HTN</option>
                   <option value="DM">DM</option>
                   <option value="SLE/vasculitis">SLE/vasculitis</option>
                   <option value="Other">Other</option>
                 </select>
                <div class="alert-danger" *ngIf="f.submitted && ckdCaouse.invalid">
                 <div *ngIf="ckdCaouse.errors.required">Ckd Caouse is required</div>
               </div>
               </div>
             </div>
           </div>


           <div class="form-row">
            <div class="col-md-6">
             <div class="md-form form-group">
               <label for="biopsy">* Biopsy </label>                          
               <select name="biopsy" id="biopsy" [(ngModel)]="formTrFollowUp.biopsy"   class="custom-select" required #biopsy="ngModel"> 
                <option value="No">No</option>
                <option value="Yes">Yes</option>
               </select>
              <div class="alert-danger" *ngIf="f.submitted && biopsy.invalid">
               <div *ngIf="biopsy.errors.required">Biopsy is required</div>
             </div>
             </div>
           </div>

           <div class="col-md-6" *ngIf="formTrFollowUp.biopsy === 'Yes'">
             <div class="md-form form-group">
               <label for="biopsyMonth">* Biopsy Month(1 to 100) </label>                   
               <input type="number" class="form-control"name="biopsyMonth" [(ngModel)]="formTrFollowUp.biopsyMonth" max="1" max="100" required  #biopsyMonth="ngModel" />
               <div class="alert-danger" *ngIf="f.submitted && biopsyMonth.invalid">
                 <div *ngIf="biopsyMonth.errors.required">biopsyMonth is required</div>
                 <div *ngIf="biopsyMonth.errors.minlength">biopsyMonth must be minimum 1</div>
                 <div *ngIf="biopsyMonth.errors.maxlength">biopsyMonth must be maximum 100</div>
                 <div *ngIf="biopsyMonth.errors">biopsyMonth not valid</div>
               </div>
             </div>
           </div>
         </div>

         
         <div class="form-row">
          <div class="col-md-6">
           <div class="md-form form-group">
             <label for="dialysisDuration">* DialysisDuration (1 to 200)</label>                          
             <input type="number" class="form-control"name="dialysisDuration" [(ngModel)]="formTrFollowUp.dialysisDuration" max="1" max="200" required  #dialysisDuration="ngModel" />
             <div class="alert-danger" *ngIf="f.submitted && dialysisDuration.invalid">
               <div *ngIf="dialysisDuration.errors.required">DialysisDuration is required</div>
               <div *ngIf="dialysisDuration.errors.minlength">DialysisDuration must be minimum 1</div>
               <div *ngIf="dialysisDuration.errors.maxlength">DialysisDuration must be maximum 100</div>
               <div *ngIf="dialysisDuration.errors">DialysisDuration not valid</div>
             </div>
           </div>
         </div>

         <div class="col-md-6">
           <div class="md-form form-group">
             <label for="biopsyReport">* Biopsy Report </label>                   
             <select name="biopsyReport" id="biopsyReport" [(ngModel)]="formTrFollowUp.biopsyReport"   class="custom-select" required #biopsyReport="ngModel"> 
              <option value="ACR">ACR</option>
              <option value="AMR">AMR</option>
              <option value="Coagulative Necrosis">Coagulative Necrosis</option>
              <option value="FSGS">FSGS</option>
              <option value="IFTA">IFTA</option>
              <option value="Inadequate">Inadequate</option>
              <option value="Interstitial Nephritis">Interstitial Nephritis</option>
              <option value="No Data">No Data</option>              
            </select>
           <div class="alert-danger" *ngIf="f.submitted && biopsyReport.invalid">
            <div *ngIf="biopsyReport.errors.required">Biopsy Report is required</div>
          </div>
           </div>
         </div>
       </div>

       
       <div class="form-row">
        <div class="col-md-6">
         <div class="md-form form-group">
           <label for="hisBlood">* His Blood </label>                          
           <select name="hisBlood" id="hisBlood" [(ngModel)]="formTrFollowUp.hisBlood"   class="custom-select" required #hisBlood="ngModel"> 
            <option value="No">No</option>
            <option value="Yes">Yes</option>
           </select>
          <div class="alert-danger" *ngIf="f.submitted && hisBlood.invalid">
           <div *ngIf="hisBlood.errors.required">His Blood is required</div>
         </div>
         </div>
       </div>

       <div class="col-md-6">
         <div class="md-form form-group">
           <label for="hisPregnancy">* his Pregnancy </label>                   
           <select name="hisPregnancy" id="hisPregnancy" [(ngModel)]="formTrFollowUp.hisPregnancy"   class="custom-select" required #hisPregnancy="ngModel"> 
            <option value="No">No</option>
            <option value="Yes">Yes</option>
           </select>
          <div class="alert-danger" *ngIf="f.submitted && hisPregnancy.invalid">
           <div *ngIf="hisPregnancy.errors.required">his Pregnancy is required</div>
         </div>
         </div>
       </div>
     </div>


     <div class="form-row">
      <div class="col-md-6">
       <div class="md-form form-group">
         <label for="hisDm">* His Dm </label>                          
         <select name="hisDm" id="hisDm" [(ngModel)]="formTrFollowUp.hisDm"   class="custom-select" required #hisDm="ngModel"> 
          <option value="No">No</option>
          <option value="Yes">Yes</option>
         </select>
        <div class="alert-danger" *ngIf="f.submitted && hisDm.invalid">
         <div *ngIf="hisDm.errors.required">His Dm is required</div>
       </div>
       </div>
     </div>

     <div class="col-md-6">
       <div class="md-form form-group">
         <label for="hisIhd">* his Ihd </label>                   
         <select name="hisIhd" id="hisIhd" [(ngModel)]="formTrFollowUp.hisIhd"   class="custom-select" required #hisIhd="ngModel"> 
          <option value="No">No</option>
          <option value="Yes">Yes</option>
         </select>
        <div class="alert-danger" *ngIf="f.submitted && hisIhd.invalid">
         <div *ngIf="hisIhd.errors.required">his Ihd is required</div>
       </div>
       </div>
     </div>
   </div>

   <div class="form-row">
    <div class="col-md-6">
     <div class="md-form form-group">
       <label for="hishbv">* His Hbv </label>                          
       <select name="hishbv" id="hishbv" [(ngModel)]="formTrFollowUp.hishbv"   class="custom-select" required #hishbv="ngModel"> 
        <option value="No">No</option>
        <option value="Yes">Yes</option>
       </select>
      <div class="alert-danger" *ngIf="f.submitted && hishbv.invalid">
       <div *ngIf="hishbv.errors.required">His Hbv is required</div>
     </div>
     </div>
   </div>

   <div class="col-md-6">
     <div class="md-form form-group">
       <label for="hishcv">* his Hcv </label>                   
       <select name="hishcv" id="hishcv" [(ngModel)]="formTrFollowUp.hishcv"   class="custom-select" required #hishcv="ngModel"> 
        <option value="No">No</option>
        <option value="Yes">Yes</option>
       </select>
      <div class="alert-danger" *ngIf="f.submitted && hishcv.invalid">
       <div *ngIf="hishcv.errors.required">his Hcv is required</div>
     </div>
     </div>
   </div>
 </div>

 
 <div class="form-row">
  <div class="col-md-6">
   <div class="md-form form-group">
     <label for="sickle">* Sickle </label>                          
     <select name="sickle" id="hishbv" [(ngModel)]="formTrFollowUp.sickle"   class="custom-select" required #sickle="ngModel"> 
      <option value="No">No</option>
      <option value="Yes">Yes</option>
     </select>
    <div class="alert-danger" *ngIf="f.submitted && sickle.invalid">
     <div *ngIf="sickle.errors.required">Sickle is required</div>
   </div>
   </div>
 </div>

 <div class="col-md-6">
   <div class="md-form form-group">
     <label for="other">* Other </label>                   
     <select name="other" id="other" [(ngModel)]="formTrFollowUp.other"   class="custom-select" required #other="ngModel"> 
      <option value="Positive">Positive</option>
      <option value="Negative">Negative</option>
     </select>
    <div class="alert-danger" *ngIf="f.submitted && other.invalid">
     <div *ngIf="other.errors.required">Other is required</div>
   </div>
   </div>
 </div>
</div>

<div class="form-row">
  <div class="col-md-6">
   <div class="md-form form-group">
     <label for="histb">* His tb </label>                          
     <select name="histb" id="histb" [(ngModel)]="formTrFollowUp.histb"   class="custom-select" required #histb="ngModel"> 
      <option value="No">No</option>
      <option value="Yes">Yes</option>
     </select>
    <div class="alert-danger" *ngIf="f.submitted && histb.invalid">
     <div *ngIf="histb.errors.required">His tb is required</div>
   </div>
   </div>
 </div>

 <div class="col-md-6">
   <div class="md-form form-group">
     <label for="mantoux">* Mantoux </label>                   
     <select name="mantoux" id="mantoux" [(ngModel)]="formTrFollowUp.mantoux"   class="custom-select" required #mantoux="ngModel"> 
      <option value="Positive">Positive</option>
      <option value="Negative">Negative</option>
     </select>
    <div class="alert-danger" *ngIf="f.submitted && mantoux.invalid">
     <div *ngIf="mantoux.errors.required">Mantoux is required</div>
   </div>
   </div>
 </div>
</div>

<div class="form-group"> 
  <label for="surgeon">Surgeon</label>
  <ejs-multiselect id='surgeon' name='surgeon' [(ngModel)]="formTrFollowUp.surgeon" [dataSource]='surgeonsList' [fields]='localFields' [placeholder]='selected' #surgeons="ngModel" ></ejs-multiselect>
 </div>


 <div class="form-row">
  <div class="col-md-6">
   <div class="md-form form-group">
     <label for="djs">* Djs </label>                          
     <select name="djs" id="djs" [(ngModel)]="formTrFollowUp.djs"   class="custom-select" required #djs="ngModel"> 
      <option value="No">No</option>
      <option value="Yes">Yes</option>
     </select>
    <div class="alert-danger" *ngIf="f.submitted && djs.invalid">
     <div *ngIf="djs.errors.required">Djs tb is required</div>
   </div>
   </div>
 </div>

 <div class="col-md-6">
   <div class="md-form form-group">
     <label for="creatinine">* Creatinine </label>                   
     <input type="number" class="form-control"name="creatinine" [(ngModel)]="formTrFollowUp.creatinine" max="1" max="200" required  #creatinine="ngModel" />
     <div class="alert-danger" *ngIf="f.submitted && creatinine.invalid">
       <div *ngIf="creatinine.errors.required">Creatinine is required</div>
       <div *ngIf="creatinine.errors.minlength">Creatinine must be minimum 1</div>
       <div *ngIf="creatinine.errors.maxlength">Creatinine must be maximum 100</div>
       <div *ngIf="creatinine.errors">Creatinine not valid</div>
     </div>
   </div>
 </div>
</div>
              
                    <div class="md-form">
                      <label for="comment">Comment</label>
                      <textarea type="text" id="comment" name="comment" [(ngModel)]="formHdMonthlyfollowUp.comment" required minlength="0" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
                      <div class="alert-danger" *ngIf="f.submitted && address.invalid">
                        <div *ngIf="address.errors.required">Comment is required</div>
                        <div *ngIf="address.errors.minlength">Comment must be at least 0 characters</div>
                        <div *ngIf="address.errors.maxlength">Comment must be at most 1000 characters</div>
                      </div>
                    </div>             
                
               
                     <div class="form-group">
                       <button class="submit">Register Patient's Transplant FollowUp</button>
                       <button class="submit" (click)="onsubmitedHideTrfollowUpForm()"> Cancel</button>
                     </div>
                
                     <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                      *  fields are required!<br />{{ errorMessage }}
                     </div>  

                
                  </form>
                </div>
                <button class="btn-block" (click)="onsubmitedShowTrFollowUpDetails()"> Show Transplant FollowUp Information</button>
                <table class="table table-striped" *ngIf="shwTrFollowUpDetails"> 
                    <tbody *ngFor="let TrFollowUp of _followUps">
                        <tr >
                            <td class="center">FollowUp Date: {{TrFollowUp.dateOfFollowUp}}</td>
                            <td class="right">currentStates: {{TrFollowUp.currentStates}}</td>
                            <td class="left">priorTrasplant: {{TrFollowUp.priorTrasplant}}</td>
                          </tr>
                        <tr>
                            <td class="left">graftLossCause: {{TrFollowUp.graftLossCause}}</td>
                            <td class="left">lossDate: {{TrFollowUp.lossDate}}</td>                            
                        </tr>
                        <tr>
                          <td class="center">Survival: {{TrFollowUp.survival}}</td>
                          <td class="right">CkdCaouse: {{TrFollowUp.ckdCaouse}}</td>
                          <td class="left">priorTrasplant: {{TrFollowUp.priorTrasplant}}</td>                         
                      </tr>
                      <tr>
                        <td class="center">DialysisDuration: {{TrFollowUp.dialysisDuration}}</td>
                        <td class="right">Biopsy: {{TrFollowUp.biopsy}}</td>
                        <td class="left">BiopsyMonth: {{TrFollowUp.biopsyMonth}}</td>                         
                    </tr>
                      <tr>
                        <td class="center">biopsyReport: {{TrFollowUp.biopsyReport}}</td>
                        <td class="right">hisBlood: {{TrFollowUp.hisBlood}}</td>
                        <td class="left">hisPregnancy: {{TrFollowUp.hisPregnancy}}</td>                   
                      </tr>
                      <tr>
                        <td class="center">hisDm: {{TrFollowUp.hisDm}}</td>
                        <td class="right">hisDm: {{TrFollowUp.hisDm}}</td>
                        <td class="left">hisIhd: {{TrFollowUp.hisIhd}}</td>                                 
                      </tr>
                      <tr>
                        <td class="center">hishbv: {{TrFollowUp.hishbv}}</td>
                        <td class="right">hishcv: {{TrFollowUp.hishcv}}</td>
                        <td class="left">sickle: {{TrFollowUp.sickle}}</td>                                 
                      </tr>
                      <tr>
                        <td class="center">other: {{TrFollowUp.other}}</td>
                        <td class="right">histb: {{TrFollowUp.histb}}</td>
                        <td class="left">mantoux: {{TrFollowUp.mantoux}}</td>                                 
                      </tr>
                        <tr>
                          <td class="left">surgeon: {{hdFollowup.surgeon}}</td>
                      </tr>
                      <tr>
                        <td class="center">djs: {{TrFollowUp.djs}}</td>
                        <td class="right">hospitalStay: {{TrFollowUp.hospitalStay}}</td>
                        <td class="left">creatinine: {{TrFollowUp.creatinine}}</td>                                 
                      </tr>      
                      <tr>
                        <td class="left">Comment by <strong>{{username}}</strong>: {{TrFollowUp.comment}}</td>
                    </tr>
                    </tbody>
                </table>              
              
              </div>
          </tr>
      </div>
  </div>



      <!-- login  -->
      <div id="login" class="login-form">
        <form *ngIf="!isLoggedIn"name="formLogin"(ngSubmit)="f.form.valid && onSubmitLogin()" #f="ngForm" novalidate>
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text"  class="form-control" name="username" [(ngModel)]="formLogin.username" required #username="ngModel"/>
            <div class="alert alert-danger"role="alert" *ngIf="f.submitted && username.invalid"> Username is required! </div>
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control"name="password" [(ngModel)]="formLogin.password" required minlength="4"#password="ngModel"/>
            <div class="alert alert-danger" role="alert"  *ngIf="f.submitted && password.invalid" >
            <div *ngIf="password.errors.required">Password is required</div>
            <div *ngIf="password.errors.minlength">Password must be 4 characters</div>
          </div>
          </div>
          <div class="form-group">
            <button class="btn btn-primary btn-block">Login</button>
          </div>                           
        </form>
      </div>

  <!-- register user  -->
 <div class="container" *ngIf="showUserRegisterForm" style="margin-top: 70px;">
  <form *ngIf="!isSuccessful" name="formRegisterUser" (ngSubmit)="f.form.valid && onSubmitRegisterUser()"#f="ngForm" novalidate>
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" class="form-control"name="username" [(ngModel)]="formRegisterUser.username" required minlength="4" maxlength="10" #username="ngModel"/>
      <div class="alert-danger" *ngIf="f.submitted && username.invalid">
        <div *ngIf="username.errors.required">Username is required</div>
        <div *ngIf="username.errors.minlength">Username must be at least 4 characters</div>
        <div *ngIf="username.errors.maxlength">Username must be at most 10 characters</div>
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" name="email" [(ngModel)]="formRegisterUser.email"required  email #email="ngModel"/>
      <div class="alert-danger" *ngIf="f.submitted && email.invalid">
        <div *ngIf="email.errors.required">Email is required</div>
        <div *ngIf="email.errors.email">Email must be a valid email address</div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" name="password"[(ngModel)]="formRegisterUser.password" required minlength="6" maxlength="6"  #password="ngModel"/>
      <div class="alert-danger" *ngIf="f.submitted && password.invalid">
        <div *ngIf="password.errors.required">Password is required</div>
        <div *ngIf="password.errors.minlength">Password must be 6 characters</div>
        <div *ngIf="password.errors.minlength">Password must be 6 characters</div>
      </div>
    </div> 
    
    <div class="form-group">
     <label for="confirmPassword">ConfirmPassword</label>
     <input type="password" class="form-control" name="confirmPassword"[(ngModel)]="formRegisterUser.confirmPassword"required minlength="6" maxlength="6"  #confirmPassword="ngModel"/>
     <div class="alert-danger" *ngIf="f.submitted && password.invalid">
       <div *ngIf="password.errors.required">ConfirmPassword is required</div>
       <div *ngIf="password.errors.minlength">ConfirmPassword must be 6 characters</div>
       <div *ngIf="password.errors.maxlength">ConfirmPassword must be 6 characters</div>
       <div *ngIf="password.errors.validateEqual">Passwords do not match!</div>
     </div>
   </div> 
   

    <div class="form-group">
      <label for="role">Role</label>
      
      <select name="roles" id="roles" [(ngModel)]="formRegisterUser.roles"   class="custom-select"> 
        <option value="ADMIN">ADMIN</option>
        <option value="DOCTOR">DOCTOR</option>
        <option value="LABORATORY">LABORATORY</option>
      </select>
    </div>  
    

    <div class="form-group">
      <button class="btn btn-primary btn-block">Register User</button>
    </div>

    <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
      All fields are required!<br />{{ errorMessage }}
    </div>
  </form>    
</div>
   <!-- register patient  -->
   <div *ngIf="showPatientRegistrationForm" class="container">
    <form *ngIf="!isSuccessful"name="formRegisterPatient" (ngSubmit)="f.form.valid && onSubmitRegisterPatient()" #f="ngForm" novalidate>

      <div class="form-group">
        <label for="name">* Full Name</label>
        <input type="text" class="form-control"name="name" [(ngModel)]="formRegisterPatient.name" [pattern]="namePattern" required minlength="10" maxlength="20" #name="ngModel" />
        <div class="alert-danger" *ngIf="f.submitted && name.invalid">
          <div *ngIf="name.errors.required">Username is required</div>
          <div *ngIf="name.errors.minlength">Full Name must be at least 10 characters</div>
          <div *ngIf="name.errors.maxlength">Full Name must be at most 20 characters</div>
          <div *ngIf="mobileNumber.errors">Patient's name not valid</div>
        </div>
      </div>

      <div class="form-group">
        <label for="name">* PersonalId  (must be 12 numbers) </label>
        <input type="tel" class="form-control"name="personalId" [(ngModel)]="formRegisterPatient.personalId" [pattern]="personalIdPattern" required  minlength="12" maxlength="12" #personalId="ngModel" />
        <div class="alert-danger" *ngIf="f.submitted && personalId.invalid">
          <div *ngIf="personalId.errors.required">personalId is required</div>
          <div *ngIf="personalId.errors.minlength">personalId must be at least 12 characters</div>
          <div *ngIf="personalId.errors.maxlength">personalId must be at most 12 characters</div>
          <div *ngIf="mobileNumber.errors">Personal Id not valid</div>
        </div>
      </div>

      <div class="form-group">
        <label for="name">* MobileNumber (must be 10 numbers)</label>
        <input type="tel" class="form-control"name="mobileNumber" [(ngModel)]="formRegisterPatient.mobileNumber" [pattern]="mobNumberPattern"  required  minlength="10" maxlength="10" #mobileNumber="ngModel" />
        <div class="alert-danger" *ngIf="f.submitted && mobileNumber.invalid">
          <div *ngIf="mobileNumber.errors.required">mobileNumber is required</div>
          <div *ngIf="mobileNumber.errors.minlength">mobileNumber must be 10 numbers</div>
          <div *ngIf="mobileNumber.errors.maxlength">mobileNumber must be 10 numbers</div>
          <div *ngIf="mobileNumber.errors">Mobile number not valid</div>
        </div>
      </div>

     <div class="form-group">
       <label for="email">* Email</label>
       <input type="email"class="form-control" name="email" [(ngModel)]="formRegisterPatient.email" required email #email="ngModel"/>
       <div class="alert-danger" *ngIf="f.submitted && email.invalid">
         <div *ngIf="email.errors.required">Email is required</div>
         <div *ngIf="email.errors.email">Email must be a valid email address</div>
       </div>
     </div>

     <div class="form-group">
       <label for="password">* Password</label>
       <input type="password" class="form-control" name="password"[(ngModel)]="formRegisterPatient.password" required minlength="4"  maxlength="4" #password="ngModel"/>
       <div class="alert-danger" *ngIf="f.submitted && password.invalid">
         <div *ngIf="password.errors.required">Password is required</div>
         <div *ngIf="password.errors.minlength">Password must be 4 characters</div>
         <div *ngIf="password.errors.minlength">Password must be 4 characters</div>
       </div>
     </div> 
     
     <div class="form-group">
      <label for="confirmPassword">* ConfirmPassword</label>
      <input type="password" class="form-control" name="confirmPassword"[(ngModel)]="formRegisterPatient.confirmPassword" required minlength="4"  maxlength="4" required
      appEqualValidator='password' #confirmPassword="ngModel"/>
      <div class="alert-danger" *ngIf="f.submitted && confirmPassword.invalid">
        <div *ngIf="confirmPassword.errors.required">ConfirmPassword is required</div>
        <div *ngIf="confirmPassword.errors.maxlength">ConfirmPassword must be 4 characters</div>
        <div *ngIf="confirmPassword.errors.minlength">ConfirmPassword must be 4 characters</div>
        <div *ngIf="confirmPassword.errors?.validateEqual">Password Mismatch</div>
      </div>
    </div> 



    <div class="form-group">
      <mat-form-field>
        <label for="dateOfBirth">* Date Of Birth</label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="formRegisterPatient.dateOfBirth"  id="dateOfBirth" name="dateOfBirth" required #dateOfBirth="ngModel">
        <div class="alert-danger" *ngIf="f.submitted && dateOfBirth.invalid">
          <div *ngIf="dateOfBirth.errors.required">Date Of Birth is required</div>
        </div>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>


    <div class="form-group">
      <label id="gender">* Gender: </label>
      <mat-radio-group name="gender"  [(ngModel)]="formRegisterPatient.gender" id ="gender" required #gender="ngModel">
        <mat-radio-button value="Male">Male</mat-radio-button>
        <mat-radio-button value="Female">Female</mat-radio-button>
     </mat-radio-group> 
     <div class="alert-danger" *ngIf="f.submitted && gender.invalid">
      <div *ngIf="gender.errors.required">Select patint's gender is required</div>
    </div>
    </div>  

    <div class="form-group">
      <label id="residence">* Residence: </label>
      <mat-radio-group name="residence"  [(ngModel)]="formRegisterPatient.residence" id ="residence" required #residence="ngModel">
        <mat-radio-button value="Khartoum">Khartoum</mat-radio-button>
        <mat-radio-button value="Omdurman">Omdurman</mat-radio-button>
        <mat-radio-button value="Bahri">Bahri</mat-radio-button>
     </mat-radio-group> 
     <div class="alert-danger" *ngIf="f.submitted && residence.invalid">
      <div *ngIf="residence.errors.required">Select patint's residence is required</div>
    </div>
    </div>  

    <div class="md-form">
      <label for="address">* Full Address</label>
      <textarea type="text" id="Address" name="address" [(ngModel)]="formRegisterPatient.address" required minlength="10" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
      <div class="alert-danger" *ngIf="f.submitted && address.invalid">
        <div *ngIf="address.errors.required">Address is required</div>
        <div *ngIf="address.errors.minlength">Full address must be at least 10 characters</div>
        <div *ngIf="address.errors.maxlength">Full Name address be at most 1000 characters</div>
      </div>
    </div>

    <div class="md-form">
      <label for="insurance">Has Insurance?</label>
      <input type="checkbox" id="insurance" name="insurance" [(ngModel)]="formRegisterPatient.insurance">
    </div>

    <div class="md-form"  *ngIf="formRegisterPatient.insurance">
      <label for="insuranceDetails">insuranceDetails</label>
      <textarea type="text" id="insuranceDetails" name="insuranceDetails" [(ngModel)]="formRegisterPatient.insuranceDetails" required minlength="0" maxlength="1000" #insuranceDetails="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
    </div>

    <div class="md-form">
      <label for="useInStatic">Use In Static?</label>
      <input type="checkbox" id="useInStatic" name="useInStatic" [(ngModel)]="formRegisterPatient.useInStatic">
    </div>

    <div class="md-form">
      <label for="comment">Comment</label>
      <textarea type="text" id="comment" name="comment" [(ngModel)]="formRegisterPatient.comment" required minlength="0" maxlength="1000" #address="ngModel" class="md-textarea md-textarea-auto form-control"></textarea>
      <div class="alert-danger" *ngIf="f.submitted && address.invalid">
        <div *ngIf="address.errors.required">Comment is required</div>
        <div *ngIf="address.errors.minlength">Comment must be at least 0 characters</div>
        <div *ngIf="address.errors.maxlength">Comment must be at most 1000 characters</div>
      </div>
    </div>

     <div class="form-group">
       <button class="btn btn-primary btn-block">Register Patient</button>
     </div>

     <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
      *  fields are required!<br />{{ errorMessage }}
     </div>     

    </form>
 </div>

    <!-- Users List  -->
    <div id="PatientsList" class="container" style="margin-top: 70px;"  *ngIf="showUsersList">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>USER Name</th>
            <th>Email</th>
            <th>ROLE</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users">
    
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.roles }}</td>
            <td>
              <button class="btn-block" (click)="upateUser(user)"> Edit User</button>
          </td>
        </tr>        
      </tbody>
      <button class="btn btn-outline-success my-2 my-sm-0" *ngIf="isLoggedIn" (click)="onsubmitShowUserRegisterForm()">New User</button>          
      </table>
     </div>
  
  <!-- Patients List  -->
   <div id="PatientsList" class="container" style="margin-top: 70px;"  *ngIf="showPatientsList">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let patient of patients">
  
          <td>{{ patient.id }}</td>
          <td>{{ patient.personalId }}</td>
          <td> {{ patient.name }}</td>
          <td> {{ patient.email }}</td>
          <td>
            <button class="btn-block" (click)="upatePatient(patient)"> Edit Patient</button>
          </td>
        </tr>
      </tbody>
    </table>
   </div>
  



  <footer>
      Salma Center v.1.0
  </footer>

</div>
